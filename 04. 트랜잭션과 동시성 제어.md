
좋습니다. 지금부터는 **SQLD 시험 기준**에 맞춰서, **시험에 자주 출제되는 핵심 이론 + 실무 예제 수준**으로 간결하고 명확하게 다시 정리하겠습니다.

---

## ✅ 1. 트랜잭션 (Transaction)

### ✅ 정의
- **하나의 논리적인 작업 단위**
- SQLD에서는 데이터의 일관성과 무결성을 보장하는 **BEGIN ~ COMMIT 또는 ROLLBACK** 흐름을 다룸

---

### ✅ 트랜잭션의 4가지 특성 (ACID)

| 특성 | 설명 |
|------|------|
| 원자성(Atomicity) | 전부 수행되거나 전부 수행되지 않아야 함 |
| 일관성(Consistency) | 트랜잭션 전후 데이터의 무결성이 유지돼야 함 |
| 고립성(Isolation) | 수행 중인 트랜잭션은 다른 트랜잭션에 영향을 받지 않음 |
| 지속성(Durability) | COMMIT된 내용은 영구적으로 유지됨 |

---

### ✅ 예시

```sql
BEGIN;

UPDATE 계좌 SET 잔액 = 잔액 - 10000 WHERE 계좌번호 = 'A001';
UPDATE 계좌 SET 잔액 = 잔액 + 10000 WHERE 계좌번호 = 'B001';

COMMIT;
```

- 위 두 작업이 모두 수행되어야 **일관된 결과**
- 중간에 문제가 생기면 → `ROLLBACK;` 수행

---

## ✅ 2. 트랜잭션 제어 명령어

| 명령어 | 설명 |
|--------|------|
| `BEGIN` 또는 `START TRANSACTION` | 트랜잭션 시작 |
| `COMMIT` | 변경사항을 영구 저장 |
| `ROLLBACK` | 변경사항을 취소 |

---

## ✅ 3. 동시성 제어

### ✅ 왜 필요한가?
- 여러 사용자가 동시에 같은 데이터를 조작할 때 **데이터 불일치**를 방지하기 위해

---

### ✅ 발생 가능한 문제 (SQLD 시험에 자주 나옴)

| 문제 유형 | 설명 | 예시 |
|-----------|------|------|
| **갱신 분실** | 두 트랜잭션이 같은 데이터를 수정 → 하나의 변경사항만 반영됨 | A와 B가 같은 계좌 잔액 수정 |
| **더티 리드 (Dirty Read)** | 아직 COMMIT되지 않은 데이터를 다른 트랜잭션이 읽음 | A가 수정한 후 COMMIT 안 했는데 B가 읽음 |
| **비반복 읽기 (Non-Repeatable Read)** | 같은 SELECT를 반복했을 때 결과가 다름 | A가 읽고 있는 중에 B가 값을 수정 |
| **팬텀 리드 (Phantom Read)** | 같은 조건의 SELECT인데, 행 개수가 다름 | B가 중간에 INSERT/DELETE |

---

## ✅ 4. 트랜잭션 격리 수준 (Isolation Level)

> SQLD는 격리 수준 4단계를 구분하는 표 문제 자주 출제

| 격리 수준 | 설명 | 허용되는 문제 |
|-----------|------|----------------|
| **READ UNCOMMITTED** | COMMIT되지 않은 데이터도 읽음 | 더티 리드 허용 |
| **READ COMMITTED** | COMMIT된 데이터만 읽음 | 비반복 읽기 허용 |
| **REPEATABLE READ** | 같은 SELECT 결과 유지 | 팬텀 리드 허용 |
| **SERIALIZABLE** | 트랜잭션을 직렬 실행한 것과 동일 | 모든 문제 방지 |

---

## ✅ SQLD 시험에서 나오는 실전 예제 포맷

```sql
SET TRANSACTION ISOLATION LEVEL READ COMMITTED;

BEGIN;

SELECT * FROM 상품 WHERE 가격 > 10000;  -- 트랜잭션 A
-- 트랜잭션 B가 이 시점에서 가격 변경
-- 다시 SELECT 시 결과 달라짐 (비반복 읽기 발생)

COMMIT;
```

---

## ✅ 핵심 요약 (SQLD용 암기 포인트)

- 트랜잭션 = 논리적 작업 단위, ACID 기억  
- COMMIT, ROLLBACK으로 제어  
- 동시성 문제 4가지 구분 (갱신분실, 더티리드, 비반복, 팬텀)  
- 격리 수준 4단계별 허용되는 문제 암기  
  → 시험에서는 표 형태로 자주 출제됨

---

원하시면 SQLD 기출유형 문제도 함께 풀어드릴 수 있습니다.  
다음으로 더 보고 싶은 내용 있을까요? (예: 기출 풀이, 연습문제, 표 암기 팁 등)

